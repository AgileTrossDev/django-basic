###############################################################################
# CCSDS Constants
###############################################################################

# Clear Text Data Mode CLTU Codeblock Format (Reference: Fig 4.1-11)
FILL_BYTE = bytes([0x55])
CLTU_FILL_BYTES = FILL_BYTE * 6
CLTU_START_SEQ = bytes([0xEB, 0x90])

# CLTU end sequences for standard the codeblock lengths.
# Reference: TELECOMMAN PART 1CHANNEL SERVICE 3.2.2.3
#
# Tail Sequence. The CLTU Tail Sequence field is a data structure which is
# constructed specifically to be a noncorrectable sequence which delimits the
# end of a CLTU by stopping the decoding process. The Tail Sequence shall have
# the same length as the TC Codeblocks that are being used. The Tail Sequence1
# shall consist of leading octets having the pattern 11000101, repeated as
# necessary until the next-to-last octet of the tail sequence field is reached.
# The last octet completes the tail sequence field, and always has the pattern
# 01111001. Therefore, the octet pattern for the standard codeblock lengths may
# be described as follows:
# Codeblock
# Length in Bits  Tail Sequence Pattern
# 40              11000101 11000101 11000101 11000101 01111001
# 48              11000101 11000101 11000101 11000101 11000101 01111001
# 56              11000101 11000101 11000101 11000101 11000101 11000101 01111001
# 64              11000101 11000101 11000101 11000101 11000101 11000101 11000101 01111001
CLTU_END_SEQUENCES = {
    40: bytearray.fromhex('C5C5C5C579'),
    48: bytearray.fromhex('C5C5C5C5C579'),
    56: bytearray.fromhex('C5C5C5C5C5C579'),
    64: bytearray.fromhex('C5C5C5C5C5C5C579')
}

# Packet sequence flags
# 0b00 - Continuation component of higher data structure
# 0b01 - First component of higher data structure
# 0b10 - Last component of higher data structure
# 0b11 - Standalone Packet
CONTINUING_PACKET = 0b00
FIRST_PACKET = 0b01
LAST_PACKET = 0b10
STANDALONE_PACKET = 0b11
